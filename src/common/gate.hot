module ir.ntnaeem.gate {
  struct Status {
    uint32 statusCode ord(1);
  };
  struct Message {
    uint32 id ord(1);
    uint32 relId ord(2);
    string relLabel ord(3);
    string label ord(4);
    data content ord(5);
  };
  stateless service Gate {
    uint32 EnqueueMessage(Message message);
    Status getMessageStatus(uint32 id);
    list<Message> getMessages(string label);
  };
};
